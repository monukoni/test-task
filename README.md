# test-task

## üìå –û–ø–∏—Å

–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –ø—Ä–æ—Å—Ç–∏–π **Node.js SPA** –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é **Docker**, **Nginx** —Ç–∞ **Ansible**.
–ü—Ä–æ—î–∫—Ç –º–æ–∂–Ω–∞ —à–≤–∏–¥–∫–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ –∞–±–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è–º SSL-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤.

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/monukoni/test-task.git
cd test-task
```

### 2Ô∏è‚É£ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–∏–∫–ª–∞–¥—É:

```bash
cp .env.example .env
```

–ü–æ—Ç—ñ–º –∞–∫—Ç–∏–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ:

```bash
set -a && source .env && set +a
```

> **–ü–æ—Ä–∞–¥–∞:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ–± —É—Å—ñ –∑–º—ñ–Ω–Ω—ñ –±—É–ª–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ –ø–µ—Ä–µ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º.

### 3Ô∏è‚É£ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ Ansible inventory

–î–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Ansible —Å—Ç–≤–æ—Ä—ñ—Ç—å `inventory.ini` –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–∏–∫–ª–∞–¥—É:

```bash
cp inventory.ini.example inventory.ini
```

### 4Ô∏è‚É£ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å Nginx

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ñ–∞–π–ª `nginx/nginx.dev.conf` –∞–±–æ `nginx/nginx.prod.conf` –º—ñ—Å—Ç–∏—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∞—à–æ–≥–æ –¥–æ–º–µ–Ω—É, –ø–æ—Ä—Ç—ñ–≤ —ñ —à–ª—è—Ö—ñ–≤ –¥–æ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤.

### 5Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –¥–µ–ø–ª–æ–π –Ω–∞ –≤–∏–±—Ä–∞–Ω—É –≥—ñ–ª–∫—É —Ç–∞ –¥–æ–º–µ–Ω:

```bash
./deploy.sh [branch] [domain] [email]
```

**–ü—Ä–∏–∫–ª–∞–¥:**

```bash
./deploy.sh dev dev.example.com admin@example.com
```

---

## üê≥ –ó–∞–ø—É—Å–∫ —É Docker –ª–æ–∫–∞–ª—å–Ω–æ

```bash
docker-compose up --build
```

–¶–µ –ø—ñ–¥–Ω—ñ–º–µ:

* **Node.js** —Å–µ—Ä–≤–µ—Ä
* **Nginx** —è–∫ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å—ñ
* –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å–µ—Ä–≤—ñ—Å–∏ (—è–∫—â–æ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤ `docker-compose.yml`)

---

## ‚öôÔ∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

* **Node.js** ‚Äî –±–µ–∫–µ–Ω–¥ —Ç–∞ SPA
* **Docker** + **Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
* **Nginx** ‚Äî —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å—ñ —Ç–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
* **Ansible** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π
* **Certbot** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è TLS-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤
* **Bash** ‚Äî –¥–µ–ø–ª–æ–π-—Å–∫—Ä–∏–ø—Ç–∏

---

## üîí SSL —Ç–∞ HTTPS

–ü—Ä–∏ –¥–µ–ø–ª–æ—ó —á–µ—Ä–µ–∑ Ansible –∞–±–æ —Å–∫—Ä–∏–ø—Ç `deploy.sh` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **Certbot** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SSL-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤.

